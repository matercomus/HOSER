# Abnormal Trajectory Detection Configuration
# This configuration defines detection methods and thresholds for identifying
# abnormal trajectories in the BJUT_Beijing dataset.

dataset: BJUT_Beijing

# Detection method configuration
detection:
  method: "z_score"  # Statistical method for abnormality detection
  threshold: 2.5     # Number of standard deviations from mean (higher = more strict)

# Category-specific detection parameters
categories:
  # Speeding detection: Identifies trajectories exceeding speed limits
  speeding:
    enabled: true
    speed_limit_kmh: 80      # Speed limit threshold in km/h
    percentile_threshold: 95  # Consider speeds above 95th percentile

  # Detour detection: Identifies unnecessarily long routes
  detour:
    enabled: true
    detour_ratio_threshold: 1.5  # Actual path / straight-line distance ratio
    min_trip_length_km: 2.0      # Only analyze trips longer than 2km

  # Suspicious stops detection: Identifies unusual stationary periods
  suspicious_stops:
    enabled: true
    min_stop_duration_sec: 180  # Stops longer than 3 minutes
    max_stop_count: 5           # More than 5 stops is suspicious

  # Unusual duration detection: Identifies trips taking too long for OD pair
  unusual_duration:
    enabled: true
    duration_ratio_threshold: 2.0  # Trip takes 2x expected time for OD pair

  # Circuitous routes: Identifies overly curved/indirect paths
  circuitous:
    enabled: true
    straightness_threshold: 0.5  # Straightness < 0.5 (haversine/path_length)

# Analysis and output configuration
analysis:
  min_samples_per_category: 10     # Minimum samples needed for category analysis
  save_trajectory_samples: true    # Save example trajectories for each category
  max_samples_per_category: 50     # Maximum samples to save per category

