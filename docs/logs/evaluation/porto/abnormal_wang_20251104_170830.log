2025-11-04 17:08:46,735 - INFO - Running only phases: {'abnormal'}
2025-11-04 17:08:46,753 - INFO - Working directory: /home/matt/Dev/HOSER/hoser-distill-optuna-porto-eval-eb0e88ab-20251026_152732
2025-11-04 17:08:46,754 - INFO - Validating pipeline configuration...
2025-11-04 17:08:46,818 - INFO - Configuration validation passed
2025-11-04 17:08:46,900 - INFO - Starting HOSER Distillation Evaluation Pipeline
2025-11-04 17:08:46,901 - INFO - Configuration: {'eval_dir': PosixPath('/home/matt/Dev/HOSER/hoser-distill-optuna-porto-eval-eb0e88ab-20251026_152732'), 'wandb_project': 'hoser-porto-eval', 'dataset': 'porto_hoser', 'cuda_device': 0, 'num_gene': 5000, 'seed': 42, 'models': [], 'od_sources': ['train', 'test'], 'phases': {'abnormal'}, 'force': False, 'enable_wandb': True, 'verbose': False, 'beam_width': 4, 'grid_size': 0.001, 'edr_eps': 100.0, 'background_sync': True, 'run_scenarios': True, 'scenarios_config': 'config/scenarios_porto.yaml', 'cross_dataset_eval': None, 'cross_dataset_name': 'BJUT_Beijing', 'run_abnormal_detection': True, 'abnormal_config': 'config/abnormal_detection_statistical.yaml'}
2025-11-04 17:08:46,903 - INFO - Enabled phases: ['abnormal']
2025-11-04 17:08:46,907 - INFO - Detected models: ['distill_phase1', 'distill_phase1_seed43', 'distill_phase1_seed44', 'distill_phase2', 'distill_phase2_seed43', 'distill_phase2_seed44', 'vanilla', 'vanilla_seed43', 'vanilla_seed44']
2025-11-04 17:08:46,908 - INFO - Models to process: ['distill_phase1', 'distill_phase1_seed43', 'distill_phase1_seed44', 'distill_phase2', 'distill_phase2_seed43', 'distill_phase2_seed44', 'vanilla', 'vanilla_seed43', 'vanilla_seed44']
2025-11-04 17:08:46,908 - INFO - OD sources: ['train', 'test']
2025-11-04 17:08:46,915 - INFO - â­ï¸  Skipping phase: generation
2025-11-04 17:08:46,916 - INFO - â­ï¸  Skipping phase: base_eval
2025-11-04 17:08:46,916 - INFO - â­ï¸  Skipping phase: cross_dataset
2025-11-04 17:08:46,916 - INFO - â­ï¸  Skipping phase: road_network_translate
2025-11-04 17:08:46,917 - INFO - 
======================================================================
2025-11-04 17:08:46,917 - INFO - ğŸš€ Running phase: abnormal
2025-11-04 17:08:46,917 - INFO - ======================================================================
2025-11-04 17:08:46,918 - INFO - ğŸ” Running abnormal detection...
2025-11-04 17:08:46,918 - INFO - 
ğŸ” Starting abnormal trajectory detection analysis...
2025-11-04 17:08:46,918 - INFO - Will analyze 1 dataset(s): ['porto_hoser']
2025-11-04 17:08:46,919 - INFO - 
======================================================================
2025-11-04 17:08:46,919 - INFO - ğŸ“Š Analyzing dataset: porto_hoser (main)
2025-11-04 17:08:46,919 - INFO - ======================================================================
2025-11-04 17:08:46,919 - INFO - 
ğŸ” Step 1: Detecting abnormal trajectories in real data...
2025-11-04 17:08:46,942 - INFO - 
  ğŸ“‚ Processing train data...
2025-11-04 17:08:46,942 - INFO -     ğŸ” Detecting abnormal trajectories in REAL data...
2025-11-04 17:08:46,942 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-04 17:08:46,942 - INFO - ğŸ“‚ Dataset: porto_hoser
2025-11-04 17:08:46,942 - INFO - ğŸ“‚ Input file: /home/matt/Dev/HOSER/data/porto_hoser/train.csv
2025-11-04 17:08:46,942 - INFO - âš™ï¸  Config: config/abnormal_detection_statistical.yaml
2025-11-04 17:08:46,947 - INFO - ğŸ’¾ Output directory: abnormal/porto_hoser/train/real_data
2025-11-04 17:08:46,952 - INFO - ğŸ” Detection method: wang_statistical
2025-11-04 17:08:46,953 - INFO - âš™ï¸  Loading configuration...
2025-11-04 17:08:46,953 - INFO - ğŸ“‚ Loading road network...
2025-11-04 17:08:48,178 - INFO - ğŸ“‚ Loading real trajectories...
2025-11-04 17:11:26,956 - INFO - âœ… Loaded 481359 trajectories
2025-11-04 17:11:26,957 - INFO - ğŸ“Š Using Wang et al. 2018 statistical detection
2025-11-04 17:11:26,957 - WARNING - âš ï¸  Baselines not found: baselines/baselines_porto_hoser.json
2025-11-04 17:11:26,957 - WARNING -    To use statistical detection, run: uv run python tools/compute_trajectory_baselines.py --dataset porto_hoser
2025-11-04 17:11:26,957 - ERROR - âŒ Baselines required for statistical detection
2025-11-04 17:11:26,957 - ERROR -   âŒ Abnormal analysis failed for train: Baseline statistics not found for porto_hoser. Run: uv run python tools/compute_trajectory_baselines.py
Traceback (most recent call last):
  File "/home/matt/Dev/HOSER/hoser-distill-optuna-porto-eval-eb0e88ab-20251026_152732/../python_pipeline.py", line 1114, in _analyze_dataset_abnormalities
    real_results = run_abnormal_analysis(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/matt/Dev/HOSER/hoser-distill-optuna-porto-eval-eb0e88ab-20251026_152732/../tools/analyze_abnormal.py", line 453, in run_abnormal_analysis
    raise FileNotFoundError(
FileNotFoundError: Baseline statistics not found for porto_hoser. Run: uv run python tools/compute_trajectory_baselines.py
2025-11-04 17:11:26,959 - INFO - 
  ğŸ“‚ Processing test data...
2025-11-04 17:11:26,959 - INFO -     ğŸ” Detecting abnormal trajectories in REAL data...
2025-11-04 17:11:26,959 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-04 17:11:26,959 - INFO - ğŸ“‚ Dataset: porto_hoser
2025-11-04 17:11:26,959 - INFO - ğŸ“‚ Input file: /home/matt/Dev/HOSER/data/porto_hoser/test.csv
2025-11-04 17:11:26,959 - INFO - âš™ï¸  Config: config/abnormal_detection_statistical.yaml
2025-11-04 17:11:26,965 - INFO - ğŸ’¾ Output directory: abnormal/porto_hoser/test/real_data
2025-11-04 17:11:26,970 - INFO - ğŸ” Detection method: wang_statistical
2025-11-04 17:11:26,970 - INFO - âš™ï¸  Loading configuration...
2025-11-04 17:11:26,970 - INFO - ğŸ“‚ Loading road network...
2025-11-04 17:11:26,983 - INFO - ğŸ“‚ Loading real trajectories...
2025-11-04 17:12:11,719 - INFO - âœ… Loaded 137532 trajectories
2025-11-04 17:12:11,719 - INFO - ğŸ“Š Using Wang et al. 2018 statistical detection
2025-11-04 17:12:11,719 - WARNING - âš ï¸  Baselines not found: baselines/baselines_porto_hoser.json
2025-11-04 17:12:11,719 - WARNING -    To use statistical detection, run: uv run python tools/compute_trajectory_baselines.py --dataset porto_hoser
2025-11-04 17:12:11,719 - ERROR - âŒ Baselines required for statistical detection
2025-11-04 17:12:11,720 - ERROR -   âŒ Abnormal analysis failed for test: Baseline statistics not found for porto_hoser. Run: uv run python tools/compute_trajectory_baselines.py
Traceback (most recent call last):
  File "/home/matt/Dev/HOSER/hoser-distill-optuna-porto-eval-eb0e88ab-20251026_152732/../python_pipeline.py", line 1114, in _analyze_dataset_abnormalities
    real_results = run_abnormal_analysis(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/matt/Dev/HOSER/hoser-distill-optuna-porto-eval-eb0e88ab-20251026_152732/../tools/analyze_abnormal.py", line 453, in run_abnormal_analysis
    raise FileNotFoundError(
FileNotFoundError: Baseline statistics not found for porto_hoser. Run: uv run python tools/compute_trajectory_baselines.py
2025-11-04 17:12:11,720 - INFO - 
âœ… Abnormal analysis complete for porto_hoser! Results in abnormal/porto_hoser/
2025-11-04 17:12:11,721 - INFO - âœ… Phase abnormal completed
2025-11-04 17:12:11,721 - INFO - â­ï¸  Skipping phase: abnormal_od_extract
2025-11-04 17:12:11,721 - INFO - â­ï¸  Skipping phase: abnormal_od_generate
2025-11-04 17:12:11,721 - INFO - â­ï¸  Skipping phase: abnormal_od_evaluate
2025-11-04 17:12:11,721 - INFO - â­ï¸  Skipping phase: scenarios
2025-11-04 17:12:11,721 - INFO - 
âœ… Pipeline completed successfully!
2025-11-04 17:12:11,721 - INFO - âœ… Pipeline completed successfully!
ğŸ“‚ Loading road network...
ğŸ“ Calculating road centroids for 11,024 roads...
âœ… Road network loaded: 11,024 valid roads
ğŸ“‚ Loading trajectories from /home/matt/Dev/HOSER/data/porto_hoser/train.csv...
ğŸ”„ Parsing 481,359 trajectories...
âœ… Loaded 481,359 valid trajectories (dropped 0)
ğŸ“‚ Using cached road network...
ğŸ“‚ Loading trajectories from /home/matt/Dev/HOSER/data/porto_hoser/test.csv...
ğŸ”„ Parsing 137,532 trajectories...
âœ… Loaded 137,532 valid trajectories (dropped 0)
