2025-11-03 18:35:08,003 - INFO - Running only phases: {'abnormal'}
2025-11-03 18:35:08,024 - INFO - Working directory: /home/matt/Dev/HOSER/hoser-distill-optuna-6
2025-11-03 18:35:08,024 - INFO - Validating pipeline configuration...
2025-11-03 18:35:08,028 - INFO - âœ“ Cross-dataset evaluation enabled: BJUT_Beijing
2025-11-03 18:35:08,083 - INFO - Configuration validation passed
2025-11-03 18:35:08,162 - INFO - Starting HOSER Distillation Evaluation Pipeline
2025-11-03 18:35:08,163 - INFO - Configuration: {'eval_dir': PosixPath('/home/matt/Dev/HOSER/hoser-distill-optuna-6'), 'wandb_project': 'hoser-distill-optuna-6', 'dataset': 'Beijing', 'cuda_device': 0, 'num_gene': 5000, 'seed': 42, 'models': [], 'od_sources': ['train', 'test'], 'phases': {'abnormal'}, 'force': False, 'enable_wandb': True, 'verbose': False, 'beam_width': 4, 'grid_size': 0.001, 'edr_eps': 100.0, 'background_sync': True, 'run_scenarios': False, 'scenarios_config': None, 'cross_dataset_eval': '../data/BJUT_Beijing', 'cross_dataset_name': 'BJUT_Beijing', 'run_abnormal_detection': True, 'abnormal_config': 'config/abnormal_detection.yaml'}
2025-11-03 18:35:08,163 - INFO - Enabled phases: ['abnormal']
2025-11-03 18:35:08,165 - INFO - Detected models: ['distilled', 'distilled_seed44', 'vanilla']
2025-11-03 18:35:08,166 - INFO - Models to process: ['distilled', 'distilled_seed44', 'vanilla']
2025-11-03 18:35:08,166 - INFO - OD sources: ['train', 'test']
2025-11-03 18:35:08,167 - INFO - â­ï¸  Skipping phase: generation
2025-11-03 18:35:08,167 - INFO - â­ï¸  Skipping phase: base_eval
2025-11-03 18:35:08,167 - INFO - â­ï¸  Skipping phase: cross_dataset
2025-11-03 18:35:08,168 - INFO - 
======================================================================
2025-11-03 18:35:08,168 - INFO - ğŸš€ Running phase: abnormal
2025-11-03 18:35:08,168 - INFO - ======================================================================
2025-11-03 18:35:08,168 - INFO - ğŸ” Running abnormal detection...
2025-11-03 18:35:08,169 - INFO - 
ğŸ” Starting abnormal trajectory detection analysis...
2025-11-03 18:35:08,171 - INFO - Will analyze 2 dataset(s): ['Beijing', 'BJUT_Beijing']
2025-11-03 18:35:08,172 - INFO - 
======================================================================
2025-11-03 18:35:08,172 - INFO - ğŸ“Š Analyzing dataset: Beijing (main)
2025-11-03 18:35:08,172 - INFO - ======================================================================
2025-11-03 18:35:08,173 - INFO - 
ğŸ” Step 1: Detecting abnormal trajectories in real data...
2025-11-03 18:35:08,208 - INFO - 
  ğŸ“‚ Processing train data...
2025-11-03 18:35:08,209 - INFO -     ğŸ” Detecting abnormal trajectories in REAL data...
2025-11-03 18:35:08,209 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-03 18:35:08,209 - INFO - ğŸ“‚ Dataset: Beijing
2025-11-03 18:35:08,210 - INFO - ğŸ“‚ Real data: /home/matt/Dev/HOSER/data/Beijing/train.csv
2025-11-03 18:35:08,210 - INFO - âš™ï¸  Config: config/abnormal_detection.yaml
2025-11-03 18:35:08,215 - INFO - ğŸ’¾ Output directory: abnormal/Beijing/train/real_data
2025-11-03 18:35:08,216 - INFO - âš™ï¸  Loading configuration...
2025-11-03 18:35:08,222 - INFO - ğŸ“‚ Loading road network...
2025-11-03 18:35:11,483 - INFO - ğŸ“‚ Loading real trajectories...
2025-11-03 18:37:38,253 - INFO - âœ… Loaded 629380 trajectories
2025-11-03 18:38:03,604 - INFO - ğŸ“Š Total trajectory points: 17,822,413
2025-11-03 18:38:03,605 - INFO - ğŸ”§ Initializing abnormal trajectory detector...
2025-11-03 18:38:05,632 - INFO - ğŸ” Running abnormality detection...
2025-11-03 18:38:05,633 - INFO - Analyzing 17822413 trajectories for abnormalities...
2025-11-03 18:42:24,341 - INFO - Detection complete. Found abnormalities:
2025-11-03 18:42:24,342 - INFO -   speeding: 0 (0.00%)
2025-11-03 18:42:24,342 - INFO -   detour: 0 (0.00%)
2025-11-03 18:42:24,342 - INFO -   suspicious_stops: 0 (0.00%)
2025-11-03 18:42:24,342 - INFO -   circuitous: 0 (0.00%)
2025-11-03 18:42:24,342 - INFO -   unusual_duration: 0 (0.00%)
2025-11-03 18:42:24,342 - INFO - ğŸ’¾ Saving detection results...
2025-11-03 18:42:24,342 - INFO - âœ… Saved detection results to abnormal/Beijing/train/real_data/detection_results.json
2025-11-03 18:42:24,343 - INFO - âœ… Saved statistics to abnormal/Beijing/train/real_data/statistics_by_category.json
2025-11-03 18:42:24,343 - INFO - ğŸ’¾ Saving trajectory samples...
2025-11-03 18:42:24,343 - INFO - 
============================================================
2025-11-03 18:42:24,344 - INFO - ğŸ“‹ ABNORMAL TRAJECTORY DETECTION SUMMARY
2025-11-03 18:42:24,344 - INFO - ============================================================
2025-11-03 18:42:24,344 - INFO - Dataset: Beijing
2025-11-03 18:42:24,344 - INFO - Total trajectories analyzed: 629,380
2025-11-03 18:42:24,344 - INFO - 
Abnormalities detected:
2025-11-03 18:42:24,344 - INFO -   â€¢ speeding: 0 (0.00%)
2025-11-03 18:42:24,344 - INFO -   â€¢ detour: 0 (0.00%)
2025-11-03 18:42:24,344 - INFO -   â€¢ suspicious_stops: 0 (0.00%)
2025-11-03 18:42:24,344 - INFO -   â€¢ circuitous: 0 (0.00%)
2025-11-03 18:42:24,344 - INFO -   â€¢ unusual_duration: 0 (0.00%)
2025-11-03 18:42:24,344 - INFO - ============================================================
2025-11-03 18:42:24,344 - INFO - ğŸ’¾ Results saved to: abnormal/Beijing/train/real_data
2025-11-03 18:42:24,344 - INFO - âœ… Analysis complete!
2025-11-03 18:42:26,282 - INFO -     âœ… Real data: 0/629380 (0.00%) abnormal
2025-11-03 18:42:26,282 - INFO - 
    ğŸ¤– Detecting abnormal trajectories in GENERATED data...
2025-11-03 18:42:26,294 - INFO -       Analyzing distilled...
2025-11-03 18:42:26,295 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-03 18:42:26,295 - INFO - ğŸ“‚ Dataset: Beijing
2025-11-03 18:42:26,295 - INFO - ğŸ“‚ Real data: gene/Beijing/seed42/distilled_train_2025-10-08_18-23-41.csv
2025-11-03 18:42:26,296 - INFO - âš™ï¸  Config: config/abnormal_detection.yaml
2025-11-03 18:42:26,298 - INFO - ğŸ’¾ Output directory: abnormal/Beijing/train/generated/distilled
2025-11-03 18:42:26,299 - INFO - âš™ï¸  Loading configuration...
2025-11-03 18:42:26,310 - INFO - ğŸ“‚ Loading road network...
2025-11-03 18:42:26,352 - INFO - ğŸ“‚ Loading real trajectories...
2025-11-03 18:42:26,472 - ERROR -         âŒ Detection failed for distilled: ğŸš¨ FATAL: Trajectory file missing required columns: ['rid_list', 'time_list']
Available: ['origin_road_id', 'destination_road_id', 'source_index', 'source_origin_time', 'gene_trace_road_id', 'gene_trace_datetime']
2025-11-03 18:42:26,477 - INFO -       Analyzing distilled_seed44...
2025-11-03 18:42:26,477 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-03 18:42:26,477 - INFO - ğŸ“‚ Dataset: Beijing
2025-11-03 18:42:26,477 - INFO - ğŸ“‚ Real data: gene/Beijing/seed42/distilled_seed44_train_2025-10-08_20-02-16.csv
2025-11-03 18:42:26,477 - INFO - âš™ï¸  Config: config/abnormal_detection.yaml
2025-11-03 18:42:26,478 - INFO - ğŸ’¾ Output directory: abnormal/Beijing/train/generated/distilled_seed44
2025-11-03 18:42:26,478 - INFO - âš™ï¸  Loading configuration...
2025-11-03 18:42:26,481 - INFO - ğŸ“‚ Loading road network...
2025-11-03 18:42:26,504 - INFO - ğŸ“‚ Loading real trajectories...
2025-11-03 18:42:26,548 - ERROR -         âŒ Detection failed for distilled_seed44: ğŸš¨ FATAL: Trajectory file missing required columns: ['rid_list', 'time_list']
Available: ['origin_road_id', 'destination_road_id', 'source_index', 'source_origin_time', 'gene_trace_road_id', 'gene_trace_datetime']
2025-11-03 18:42:26,552 - INFO -       Analyzing vanilla...
2025-11-03 18:42:26,553 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-03 18:42:26,553 - INFO - ğŸ“‚ Dataset: Beijing
2025-11-03 18:42:26,553 - INFO - ğŸ“‚ Real data: gene/Beijing/seed42/vanilla_train_2025-10-08_21-25-52.csv
2025-11-03 18:42:26,553 - INFO - âš™ï¸  Config: config/abnormal_detection.yaml
2025-11-03 18:42:26,554 - INFO - ğŸ’¾ Output directory: abnormal/Beijing/train/generated/vanilla
2025-11-03 18:42:26,554 - INFO - âš™ï¸  Loading configuration...
2025-11-03 18:42:26,557 - INFO - ğŸ“‚ Loading road network...
2025-11-03 18:42:26,576 - INFO - ğŸ“‚ Loading real trajectories...
2025-11-03 18:42:26,606 - ERROR -         âŒ Detection failed for vanilla: ğŸš¨ FATAL: Trajectory file missing required columns: ['rid_list', 'time_list']
Available: ['origin_road_id', 'destination_road_id', 'source_index', 'source_origin_time', 'gene_trace_road_id', 'gene_trace_datetime']
2025-11-03 18:42:26,608 - INFO - 
    ğŸ“Š Comparison Report (train):
2025-11-03 18:42:26,609 - INFO -     ============================================================
2025-11-03 18:42:26,609 - INFO -     Real data:   0/629380 (0.00%)
2025-11-03 18:42:26,609 - INFO -     ğŸ’¾ Saved comparison report to abnormal/Beijing/train/comparison_report.json
2025-11-03 18:42:26,610 - INFO - 
  ğŸ“‚ Processing test data...
2025-11-03 18:42:26,610 - INFO -     ğŸ” Detecting abnormal trajectories in REAL data...
2025-11-03 18:42:26,610 - INFO - ğŸ” Starting abnormal trajectory analysis...
2025-11-03 18:42:26,610 - INFO - ğŸ“‚ Dataset: Beijing
2025-11-03 18:42:26,610 - INFO - ğŸ“‚ Real data: /home/matt/Dev/HOSER/data/Beijing/test.csv
2025-11-03 18:42:26,610 - INFO - âš™ï¸  Config: config/abnormal_detection.yaml
2025-11-03 18:42:26,612 - INFO - ğŸ’¾ Output directory: abnormal/Beijing/test/real_data
2025-11-03 18:42:26,612 - INFO - âš™ï¸  Loading configuration...
2025-11-03 18:42:26,616 - INFO - ğŸ“‚ Loading road network...
2025-11-03 18:42:26,637 - INFO - ğŸ“‚ Loading real trajectories...
